# Отчет по лабораторной работе

## 1. Описание задачи

**Создание Telegram-бота для управления задачами с приоритетами и напоминаниями.**  
Бот позволяет пользователю:

- Добавлять задачи с описанием, датой и приоритетом (**высокий, средний, низкий**)  
- Просматривать список задач в удобном формате  
- Получать напоминания за **24ч, 12ч, 5ч, 2ч, 30мин** и в момент начала задачи  
- Удалять выполненные задачи  

**Проблема, которую решает бот:**  
Упрощение планирования личных задач и автоматизация напоминаний, чтобы не забывать важные дела.  

**Почему выбрали именно эту задачу:**  
Практическая полезность для себя и других пользователей; возможность применить навыки работы с Python, API Telegram и хранением данных.

---

## 2. Промпт для LLM

**Исходный промпт:**  
Создать Telegram-бота на Python с задачами, приоритетами, хранением в файле/SQLite, выводом списка и напоминаниями.  

**Итерации и улучшения:**  

- Сначала бот работал через **Cursor**, но были постоянные проблемы с выбором приоритетов и отображением списка  
- Перешел на **GPT-5 mini** для генерации исправленного кода с inline-кнопками, корректным хранением даты и приоритета, красивым выводом задач  
- Добавлены напоминания с **JobQueue** на разные промежутки времени, исправлены ошибки callback и NoneType  

**Финальный промпт:**  
Создать Telegram-бота на Python с библиотекой `python-telegram-bot` v20+, хранением задач в SQLite, выбором приоритетов через inline-кнопки, красивым выводом списка задач с датой и временем, подтверждением добавления, и системой напоминаний за 24ч, 12ч, 5ч, 2ч, 30мин и в момент задачи.  

---

## 3. Стек технологий

**Библиотеки:**

- `python-telegram-bot` — взаимодействие с Telegram API, создание бота, обработка сообщений и inline-кнопок  
- `sqlite3` — локальное хранение задач  
- `python-dotenv` — хранение токена и настроек в `.env`  
- `dateparser` — парсинг русскоязычных дат из текста  
- `pytz` — корректное отображение времени в нужном часовом поясе  

**Почему выбраны:**  

- Простота и стабильность работы с Telegram API  
- Легкая установка и использование без сложных серверов  
- SQLite достаточно для локального хранения небольшого количества задач  

---

## 4. Скриншоты и видео

**Скриншоты работы бота:**  

![Скриншот 1](ссылка_на_скриншот1)  
![Скриншот 2](ссылка_на_скриншот2)  

**Видео-демо:**  
[Видео работы бота](https://disk.yandex.ru/i/x-ew2N-8R54OTw)    

---

## 5. Трудности и решения

**Проблемы:**

- Работа через **Cursor** давала сбои при выборе приоритета и выводе списка задач  
- Ошибки `NoneType` при использовании JobQueue  
- Неудобный вывод даты и времени задач  

**Решения:**

- Перешел на **GPT-5 mini** для генерации корректного кода с inline-кнопками и обработкой callback  
- Установил `python-telegram-bot[job-queue]` для корректной работы напоминаний  
- Даты хранятся в **UTC ISO**, выводятся локально через `pytz`  
- Список задач отформатирован красиво с **эмодзи** и разделением даты/времени  

---

## 6. Выводы

**Что получилось хорошо:**

- Бот корректно добавляет задачи с приоритетами и датами  
- Красивый и читаемый вывод списка задач  
- Работают напоминания на всех заданных промежутках  
- Inline-кнопки для выбора приоритета и добавления новых задач  

**Что можно улучшить:**

- Добавить экспорт/импорт задач в JSON или CSV  
- Улучшить интерфейс кнопок и добавить сортировку/фильтры  
- Поддержка групповых чатов  

**Чему научились:**

- Работа с библиотекой `python-telegram-bot` v20+ и inline-кнопками  
- Планирование задач и напоминаний через JobQueue  
- Обработка дат с парсингом из текста и часовыми поясами  
- Отладка и устранение проблем с callback и базой данных SQLite  
